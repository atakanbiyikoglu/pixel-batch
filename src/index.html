<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelBatch</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="app">

        <header class="header">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <rect width="32" height="32" rx="8" fill="#0071e3" />
                    <path d="M8 20l4-8 4 5 4-3 4 6" stroke="#fff" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <circle cx="21" cy="12" r="2.5" fill="#fff" />
                </svg>
            </div>
            <h1>PixelBatch</h1>
            <p class="subtitle">HEIC &#8594; JPEG Toplu D&#246;n&#252;&#351;t&#252;r&#252;c&#252;</p>
        </header>

        <div class="card">

            <!-- Ad&#305;m 1: Dosya Se&#231; -->
            <section class="step active" id="step-select">
                <h2 class="section-label">Dosya Se&#231;</h2>

                <div class="drop-zone" id="dropZone">
                    <div class="drop-zone-icon">
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <rect x="6" y="10" width="36" height="28" rx="4" stroke="#86868b" stroke-width="2" />
                            <path d="M6 30l10-8 6 4 8-6 12 10" stroke="#86868b" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <circle cx="16" cy="20" r="3" stroke="#86868b" stroke-width="2" />
                        </svg>
                    </div>
                    <p class="drop-zone-text">HEIC dosyalar&#305;n&#305; buraya s&#252;r&#252;kleyin</p>
                    <p class="drop-zone-hint">veya a&#351;a&#287;&#305;daki butona t&#305;klay&#305;n</p>
                </div>

                <div class="select-btn-wrapper">
                    <button class="btn btn-primary" id="selectBtn">Dosya Se&#231;</button>
                </div>

                <div class="files-panel" id="filesPanel">
                    <div class="files-panel-header">
                        <h3><span id="fileCount">0</span> dosya se&#231;ildi</h3>
                        <button class="btn-link" id="clearBtn">Temizle</button>
                    </div>
                    <div class="files-container" id="filesContainer"></div>
                    <div class="files-actions">
                        <button class="btn btn-primary" id="convertBtn">D&#246;n&#252;&#351;t&#252;r</button>
                    </div>
                </div>
            </section>

            <!-- Ad&#305;m 2: D&#246;n&#252;&#351;t&#252;r&#252;l&#252;yor -->
            <section class="step" id="step-converting">
                <h2 class="section-label">D&#246;n&#252;&#351;t&#252;r&#252;l&#252;yor&#8230;</h2>

                <div class="progress-section">
                    <div class="progress-track">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="progress-info">
                        <span id="progressText">0 / 0</span>
                        <span id="progressPercent">%0</span>
                    </div>
                </div>

                <div class="current-file-box">
                    <div class="current-file-name" id="currentFileName">Bekleniyor&#8230;</div>
                    <div class="current-file-status" id="statusText">Haz&#305;rlan&#305;yor&#8230;</div>
                </div>

                <div class="log-box" id="logBox"></div>
            </section>

            <!-- Ad&#305;m 3: Tamamland&#305; -->
            <section class="step" id="step-complete">
                <h2 class="section-label">Tamamland&#305;</h2>

                <div class="results">
                    <div class="result-card">
                        <div class="result-value green" id="successCount">0</div>
                        <div class="result-label">Ba&#351;ar&#305;l&#305;</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value red" id="failCount">0</div>
                        <div class="result-label">Ba&#351;ar&#305;s&#305;z</div>
                    </div>
                </div>

                <div class="complete-actions">
                    <button class="btn btn-primary" id="downloadBtn">ZIP &#304;ndir</button>
                    <button class="btn btn-secondary" id="restartBtn">Tekrar Ba&#351;la</button>
                </div>

                <div class="failed-box" id="failedBox">
                    <h4>Ba&#351;ar&#305;s&#305;z Dosyalar</h4>
                    <div id="failedList"></div>
                </div>
            </section>

        </div>
    </div>

    <footer class="footer">
        <a href="https://github.com/atakanbiyikoglu" target="_blank" rel="noopener">
            Atakan B&#305;y&#305;ko&#287;lu taraf&#305;ndan geli&#351;tirildi
        </a>
        <span class="footer-dot">&#183;</span>
        <a href="https://github.com/atakanbiyikoglu/pixel-batch" target="_blank" rel="noopener">
            GitHub
        </a>
    </footer>

    <div class="popup-overlay" id="errorPopup" role="alert">
        <div class="popup-box">
            <p class="popup-message" id="errorMessage"></p>
            <button class="btn btn-secondary" onclick="closeError()">Tamam</button>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>